# –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤ - –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Prisma)
- ‚úÖ –ú–æ–¥–µ–ª—å `ProductViews` —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Å—Ö–µ–º–µ
- ‚úÖ –°–≤—è–∑–∏ –º–µ–∂–¥—É User, Product –∏ ProductViews –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### 2. DTO (Data Transfer Objects)
- ‚úÖ `ProductViewDto` - –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
- ‚úÖ `PopularProductsDto` - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ `RecentlyViewedDto` - –¥–ª—è –Ω–µ–¥–∞–≤–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö

### 3. –°–µ—Ä–≤–∏—Å—ã
- ‚úÖ `ProductService` - –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞–º–∏:
  - `addView()` - –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä —Å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–µ–π (1 —á–∞—Å)
  - `getPopularProducts()` - –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
  - `getRecentlyViewed()` - –Ω–µ–¥–∞–≤–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `getViewsCount()` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ —Ç–æ–≤–∞—Ä–∞
  - `byId()` - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤

- ‚úÖ `ProductAnalyticsService` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞:
  - `getViewsStatistics()` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –∑–∞ –ø–µ—Ä–∏–æ–¥
  - `getViewsTrends()` - —Ç—Ä–µ–Ω–¥—ã –ø–æ –¥–Ω—è–º
  - `getMostViewedCategories()` - –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

### 4. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
- ‚úÖ `ProductController` - –Ω–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
  - `POST /products/view/:id` - –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä
  - `GET /products/popular/list` - –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã
  - `GET /products/recently-viewed/list` - –Ω–µ–¥–∞–≤–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ
  - `GET /products/views-count/:id` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
  - `GET /products/analytics/*` - —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

### 5. –ú–æ–¥—É–ª—å
- ‚úÖ `ProductModule` –æ–±–Ω–æ–≤–ª–µ–Ω —Å –Ω–æ–≤—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

## API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:

### –û—Å–Ω–æ–≤–Ω—ã–µ
```http
POST /products/view/1                    # –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä
GET /products/popular/list?limit=10&timeRange=week  # –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ
GET /products/recently-viewed/list?limit=10         # –ù–µ–¥–∞–≤–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ  
GET /products/views-count/1              # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
GET /products/1                          # –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä (+ –∞–≤—Ç–æ–ø—Ä–æ—Å–º–æ—Ç—Ä)
```

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ (–¥–ª—è –∞–¥–º–∏–Ω–æ–≤)
```http
GET /products/analytics/statistics?days=30  # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
GET /products/analytics/trends?days=7       # –¢—Ä–µ–Ω–¥—ã –ø–æ –¥–Ω—è–º
GET /products/analytics/categories?days=30  # –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
```

## –§—Ä–æ–Ω—Ç–µ–Ω–¥ —É—Ç–∏–ª–∏—Ç—ã:

### 1. ProductViewsService
- ‚úÖ –ö–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- ‚úÖ –ú–µ—Ç–æ–¥—ã –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞–º–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ —Ç–æ–∫–µ–Ω—ã

### 2. React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Ö—É–∫–∏
- ‚úÖ `useProductViews` - —Ö—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞–º–∏
- ‚úÖ `ProductViewTracker` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- ‚úÖ `PopularProductsList` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
- ‚úÖ `RecentlyViewedList` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ–¥–∞–≤–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã—Ö
- ‚úÖ `useViewTracker` - —Ö—É–∫ —Å –¥–µ–±–∞—É–Ω—Å–æ–º –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

### –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏: –Ω–µ –±–æ–ª–µ–µ 1 –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ —á–∞—Å
- –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ: –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–æ–≤—ã–º –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
- –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞ —á–µ—Ä–µ–∑ `GET /products/:id` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ—Å–º–æ—Ç—Ä
- –ù–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ProductViewTracker` —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π

### –ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º
- –î–µ–Ω—å, –Ω–µ–¥–µ–ª—è, –º–µ—Å—è—Ü, –≤—Å–µ –≤—Ä–µ–º—è
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–æ–ø-20 —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞ –ø–µ—Ä–∏–æ–¥
- –¢—Ä–µ–Ω–¥—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –ø–æ –¥–Ω—è–º
- –°–∞–º—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ:

```typescript
// –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞
const viewsService = new ProductViewsService('http://localhost:4000');

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
await viewsService.addView(productId);

// –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
const popular = await viewsService.getPopularProducts({
  limit: 10,
  timeRange: 'week'
});

// –í React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ
<ProductViewTracker productId={product.id} baseUrl="http://localhost:4000">
  <ProductCard product={product} />
</ProductViewTracker>
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
2. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ** - –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ Amazon –∫–ª–æ–Ω
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - –¥–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤
4. **–ú–µ—Ç—Ä–∏–∫–∏** - –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
5. **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ
